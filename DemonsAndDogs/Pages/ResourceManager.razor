@page "/{resourceName}/Manager"
@using Mediator.Mediator.Records
@using MediatR
@using UIComponents.PageComponents

<ResourceManagementPage ResourceName="@resourceName" OnSave="@Save" LoadItems="@LoadItems"  />

@code {
    [Parameter] public string resourceName { get; set; }
    [Inject] IMediator Mediator { get; set; }
    
    async Task Save(object model)
    {
        await Mediator.Send(new SaveResourceCommand(resourceName, model));
    }
    
    async Task<object> LoadItems()
    {
        return await Mediator.Send(new GetAllResourcesQuery(resourceName));
    }
}